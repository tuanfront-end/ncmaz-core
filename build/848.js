"use strict";(self.webpackChunkncmaz_core=self.webpackChunkncmaz_core||[]).push([[848],{848:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var r=t(9307),a=t(9196),l=t(5736),o=t(5609),u=t(2175),s=t(6419),i=t(4523),c=t(2348),d=t(5591),_=e=>{let{className:n="",author:t}=e;if(!t)return null;const{avatar:a,id:l,name:o,ncUserMeta:u,url:s,uri:i,userId:c,username:_}=t,{color:E,featuredImage:g,ncBio:m}=u;return(0,r.createElement)("a",{href:s+i,className:`nc-CardAuthor flex items-center ${n}`,"data-nc-id":"CardAuthor"},(0,r.createElement)(d.Z,{sizeClass:"h-10 w-10 text-base",containerClassName:"flex-shrink-0 mr-4",radius:"rounded-full",imgUrl:null==a?void 0:a.url,userName:_}),(0,r.createElement)("div",null,(0,r.createElement)("h2",{className:"text-base text-neutral-900 dark:text-neutral-100 font-semibold"},o),(0,r.createElement)("span",{className:"block mt-[2px] text-xs text-neutral-500 dark:text-neutral-400"},m)))},E=t(4625),g=e=>{let{className:n="bg-neutral-100 dark:bg-neutral-800",heading:t="",authors:a}=e;return(0,r.createElement)("div",{className:`nc-WidgetAuthors rounded-3xl overflow-hidden ${n}`,"data-nc-id":"WidgetAuthors"},!!t&&(0,r.createElement)(E.Z,{title:t}),(0,r.createElement)("div",{className:"flow-root"},(0,r.createElement)("div",{className:"flex flex-col divide-y divide-neutral-200 dark:divide-neutral-700"},a.map(((e,n)=>(0,r.createElement)(_,{className:"p-4 xl:p-5 hover:bg-neutral-200 dark:hover:bg-neutral-700",key:n,author:null==e?void 0:e.node}))))))},m=t(4653),f=t(4720);function $(e){const{attributes:n,setAttributes:t,clientId:d}=e,{filterDataBy:_,numberPerPage:E,order:$,orderBy:I,userIds:S,roleIn:T,heading:C}=n,{GQL_QUERY__string_text:b,data:G,dataLists:R,error:h,loading:L,variables:y}=(0,m.Z)(n),Q=R;(0,a.useEffect)((()=>{G&&t({graphQLvariables:{variables:y,queryString:b},expectedNumberResults:Q.length||E})}),[G]);return(0,r.createElement)("div",(0,u.useBlockProps)(),(0,r.createElement)(u.InspectorControls,{key:"setting"},(0,r.createElement)("div",{"data-type":"ncmaz-core/sidebar-settings"},(0,r.createElement)(o.Panel,{header:"Section settings"},(0,r.createElement)(o.PanelBody,{title:"General Settings"},(0,r.createElement)(o.PanelRow,null,(0,r.createElement)("div",{className:"space-y-2.5"},(0,r.createElement)(o.TextControl,{label:(0,l.__)("Heading","ncmaz-core"),value:C,type:"text",onChange:e=>t({heading:e})})))),(0,r.createElement)(o.PanelBody,{initialOpen:!1,title:"Filter data settings"},(0,r.createElement)(o.PanelRow,null,(0,r.createElement)(o.RadioControl,{label:"Users query by",selected:_,options:f.e,onChange:e=>{t({filterDataBy:e}),"by_filter"===e&&t({userIds:[]})}})),(0,r.createElement)("div",{className:"border-b border-gray-600 mt-3 mb-4"}),(0,r.createElement)(o.PanelRow,null,"by_specific"===_?(0,r.createElement)(i.Z,{defaultValue:S,onChange:e=>t({userIds:e})}):(0,r.createElement)("div",{className:"w-full space-y-2.5"},(0,r.createElement)("div",{className:"w-full space-y-1"},(0,r.createElement)("legend",null,(0,l.__)("Choose user role-in","ncmaz-core")),(0,r.createElement)(c.ZP,{placeholder:"Select authors...",isMulti:!0,value:T,options:[{label:"ADMINISTRATOR",value:"ADMINISTRATOR"},{label:"AUTHOR",value:"AUTHOR"},{label:"CONTRIBUTOR",value:"CONTRIBUTOR"},{label:"EDITOR",value:"EDITOR"},{label:"SUBSCRIBER",value:"SUBSCRIBER"}],onChange:e=>t({roleIn:e})})),(0,r.createElement)(o.SelectControl,{label:(0,l.__)("OrderBy","ncmaz-core"),value:I,options:[{label:"DISPLAY_NAME",value:"DISPLAY_NAME"},{label:"EMAIL",value:"EMAIL"},{label:"NICE_NAME",value:"NICE_NAME"},{label:"REGISTERED",value:"REGISTERED"}],onChange:e=>t({orderBy:e})}),(0,r.createElement)(s.Z,{defaultValue:$,onChange:e=>t({order:e})}),(0,r.createElement)("div",{className:"w-full space-y-1"},(0,r.createElement)("legend",null,(0,l.__)("Number per page","ncmaz-core")),(0,r.createElement)(o.RangeControl,{onChange:e=>t({numberPerPage:e}),min:4,max:30,value:E})))))))),(0,r.createElement)(g,{heading:C,authors:Q}),L&&(0,r.createElement)(o.Spinner,null),h&&(0,r.createElement)("pre",{className:"text-xs text-red-500"},(0,r.createElement)("code",null,JSON.stringify(h))))}},4523:function(e,n,t){var r=t(9307),a=t(9196),l=t(2819),o=t.n(l),u=t(5736),s=t(2348),i=t(4392),c=t(9098),d=t(3359);n.Z=e=>{var n;let{onChange:t,defaultValue:l=[]}=e;const[_,E]=(0,a.useState)(l),[g,m]=(0,a.useState)("");(0,a.useEffect)((()=>{t&&t(_)}),[_]),(0,a.useEffect)((()=>{g&&I()}),[g]);let f=i.Vp;const $=c.Ps`
		${f}
	`,[I,{loading:S,error:T,data:C,called:b}]=(0,d.t)($,{variables:{search:g}});let G=(null==C||null===(n=C.users)||void 0===n?void 0:n.edges)||[];G&&G.length&&(G=G.map((e=>({value:e.node.userId,label:e.node.name}))));const R=o().debounce((function(e){m(e)}),200);return(0,r.createElement)("div",{className:"w-full space-y-1"},(0,r.createElement)("legend",null,(0,u.__)("Type and select authors","ncmaz-core")),(0,r.createElement)(s.ZP,{placeholder:"Select authors...",isMulti:!0,isLoading:S,value:_,onInputChange:R,onChange:e=>E(e),options:G}))}},6419:function(e,n,t){var r=t(9307),a=(t(9196),t(5609));n.Z=e=>{let{onChange:n,defaultValue:t="DESC"}=e;const[l,o]=(0,r.useState)(t);return(0,r.useEffect)((()=>{n&&n(l)}),[l]),(0,r.createElement)("div",null,(0,r.createElement)(a.SelectControl,{label:"Order",value:l,options:[{label:"DESC",value:"DESC"},{label:"ASC",value:"ASC"}],onChange:o}))}},4720:function(e,n,t){t.d(n,{e:function(){return r}});const r=[{label:"Select posts by specific",value:"by_specific"},{label:"Select posts by filter",value:"by_filter"}]},4392:function(e,n,t){t.d(n,{tv:function(){return S},Yg:function(){return T},Mr:function(){return m},uk:function(){return f},BX:function(){return C},zu:function(){return b},Rg:function(){return $},S:function(){return I},SK:function(){return h},WH:function(){return G},Em:function(){return L},Vp:function(){return R},T3:function(){return r}});let r=["#ffdd00","#fbb034","#ff4c4c","#c1d82f","#f48924","#7ac143","#30c39e","#06BCAE","#0695BC","#037ef3","#146eb4","#8e43e7","#ea1d5d","#fc636b","#ff6319","#e01f3d","#a0ac48","#00d1b2","#472f92","#388ed1","#a6192e","#4a8594","#7B9FAB","#1393BD","#5E13BD","#E208A7"],a=" edges {\n  node {\n    id\n    link\n    author {\n      node {\n        id\n        avatar {\n          url\n        }\n        url\n        uri\n        username\n        name\n        slug\n        ncUserMeta {\n          featuredImage {\n            sourceUrl\n          }\n        }\n      }\n    }\n    categories {\n      edges {\n        node {\n          id\n          link\n          name\n          uri\n          slug\n          count\n          categoryId\n          ncTaxonomyMeta {\n            color\n          }\n        }\n      }\n    }\n    commentCount\n    date\n    excerpt\n    featuredImage {\n      node {\n        id\n        altText\n        caption\n        sourceUrl\n      }\n    }\n    postFormats {\n      edges {\n        node {\n          id\n          name\n          slug\n        }\n      }\n    }\n    postId\n    slug\n    title\n    ncmazVideoUrl {\n      fieldGroupName\n      videoUrl\n    }\n    ncmazAudioUrl {\n      fieldGroupName\n      audioUrl\n    }\n    ncPostMetaData {\n      favoriteButtonShortcode\n      readingTimeShortcode\n      viewsCount\n      fieldGroupName\n    }\n    ncmazGalleryImgs {\n      fieldGroupName\n      image1 {\n        id\n        sourceUrl\n      }\n      image2 {\n        id\n        sourceUrl\n      }\n      image3 {\n        id\n        sourceUrl\n      }\n      image4 {\n        id\n        sourceUrl\n      }\n      image5 {\n        id\n        sourceUrl\n      }\n      image6 {\n        id\n        sourceUrl\n      }\n      image7 {\n        id\n        sourceUrl\n      }\n      image8 {\n        id\n        sourceUrl\n      }\n    }\n  }\n}",l="edges {\n\tnode {\n\t\tid\n\t\tname\n\t\tusername\n\t\tuserId\n\t\turl\n\t\turi\n    ncUserMeta {\n\t\t\tcolor\n\t\t\tncBio\n\t\t\tfeaturedImage {\n\t\t\t\tsourceUrl\n\t\t\t\tid\n\t\t\t}\n\t\t\tbackgroundImage {\n\t\t\t\tsourceUrl\n\t\t\t}\n\t\t}\n    posts {\n      pageInfo {\n        total\n      }\n    }\n\t}\n}",o="edges {\n    node {\n        id\n        slug\n        count\n        name\n        databaseId\n        description\n        link\n        ncTaxonomyMeta {\n            color                                     \n            featuredImage {\n                sourceUrl\n            }\n        }\n    }\n}";const u=`\n  query GQL_QUERY_GET_POSTS_BY_FILTER(\n    $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}\n    $field: PostObjectsConnectionOrderbyEnum = AUTHOR\n    $order: OrderEnum = ASC\n    $categoryIn: [ID] = []\n    $tagIn: [ID] = []\n    $authorIn: [ID] = []\n    $last: Int = null\n    $first: Int = 10\n    $before: String = ""\n    $after: String = ""\n  ) {\n    posts(\n      where: {\n        language: $language\n        orderby: { field: $field, order: $order }\n        categoryIn: $categoryIn\n        tagIn: $tagIn\n        authorIn: $authorIn\n      }\n      last: $last\n      first: $first\n      before: $before\n      after: $after\n    ) {\n     ${a}\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        endCursor\n        startCursor\n      }\n    }\n  }\n`,s=`\n  query GQL_QUERY_GET_POSTS_BY_SPECIFIC(\n    $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}\n    $nameIn: [String] = ""\n    ) {\n    posts(where: {\n      language: $language\n      nameIn: $nameIn\n      orderby: {order: ASC, field: NAME_IN}\n     }) { ${a} }\n  }\n`,i=`\n\tquery GQL_QUERY_GET_CATEGORIES_BY_FILTER(\n    $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}\n\t\t$order: OrderEnum = ASC\n\t\t$orderby: TermObjectsConnectionOrderbyEnum = COUNT\n\t\t$after: String = null\n\t\t$before: String = null\n\t\t$first: Int = 10\n\t\t$last: Int = null\n\t) {\n\t\tcategories(\n\t\t\twhere: { \n        language: $language,\n        order: $order,\n        orderby: $orderby \n      }\n\t\t\tfirst: $first\n\t\t\tbefore: $before\n\t\t\tafter: $after\n\t\t\tlast: $last\n\t\t) { ${o} }\n\t}\n`,c=`\n\tquery GQL_QUERY_GET_CATEGORIES_BY_SPECIFIC(\n    $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}\n    $termTaxonomId: [ID] = ""\n    ) {\n\t\tcategories(where: {\n      language: $language\n      termTaxonomId: $termTaxonomId\n     }) { ${o} }\n\t}\n`,d=`\n\tquery GQL_QUERY_GET_TAGS_BY_FILTER(\n    $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}\n\t\t$order: OrderEnum = ASC\n\t\t$orderby: TermObjectsConnectionOrderbyEnum = COUNT\n\t\t$after: String = null\n\t\t$before: String = null\n\t\t$first: Int = 10\n\t\t$last: Int = null\n\t) {\n\t\ttags(\n\t\t\twhere: {\n        language: $language \n        order: $order\n        orderby: $orderby \n      }\n\t\t\tfirst: $first\n\t\t\tbefore: $before\n\t\t\tafter: $after\n\t\t\tlast: $last\n\t\t) { ${o} }\n\t}\n`,_=`\n\tquery GQL_QUERY_GET_TAGS_BY_SPECIFIC(\n    $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}\n    $termTaxonomId: [ID] = ""\n    ) {\n\t\ttags(where: {\n      language: $language\n      termTaxonomId: $termTaxonomId\n    }) { ${o} }\n\t}\n`;let E=`\n  query GQL_QUERY_SEARCH_POSTS($search: String = "", $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}) {\n    posts(where: {search: $search,  language: $language})\n\t{ ${a} }\n  }\n`;const g={PLL_GET__GQL_QUERY_GET_POSTS_BY_FILTER:u,PLL_GET__GQL_QUERY_GET_POSTS_BY_SPECIFIC:s,PLL_GET__GQL_QUERY_GET_CATEGORIES_BY_FILTER:i,PLL_GET__GQL_QUERY_GET_CATEGORIES_BY_SPECIFIC:c,PLL_GET__GQL_QUERY_GET_TAGS_BY_FILTER:d,PLL_GET__GQL_QUERY_GET_TAGS_BY_SPECIFIC:_,PLL_GET__GQL_QUERY_SEARCH_CATEGORIES:`\n  query GQL_QUERY_SEARCH_CATEGORIES($search: String = "", $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}) {\n\tcategories(where: {language: $language, search: $search})\n\t{ ${o} }\n  }\n`,PLL_GET__GQL_QUERY_SEARCH_TAGS:`\n  query GQL_QUERY_SEARCH_TAGS($search: String = "", $language: LanguageCodeFilterEnum = ${window.ncmazcoreJsData.pll_current_language}) {\n\ttags(where: {language: $language, search: $search})\n\t{ ${o} }\n  }\n`,PLL_GET__GQL_QUERY_SEARCH_POSTS:E};let m=`\n  query GQL_QUERY_GET_POSTS_BY_FILTER(\n    $field: PostObjectsConnectionOrderbyEnum = AUTHOR\n    $order: OrderEnum = ASC\n    $categoryIn: [ID] = []\n    $tagIn: [ID] = []\n    $authorIn: [ID] = []\n    $last: Int = null\n    $first: Int = 10\n    $before: String = ""\n    $after: String = ""\n  ) {\n    posts(\n      where: {\n        orderby: { field: $field, order: $order }\n        categoryIn: $categoryIn\n        tagIn: $tagIn\n        authorIn: $authorIn\n      }\n      last: $last\n      first: $first\n      before: $before\n      after: $after\n    ) {\n     ${a}\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        endCursor\n        startCursor\n      }\n    }\n  }\n`,f=`\n  query GQL_QUERY_GET_POSTS_BY_SPECIFIC($nameIn: [String] = "") {\n    posts(where: { nameIn: $nameIn,  orderby: {order: ASC, field: NAME_IN} }) { ${a} }\n  }\n`,$=`query GQL_QUERY_GET_USERS_BY_FILTER(\n\t$after: String = ""\n\t$before: String = ""\n\t$first: Int = 10\n\t$last: Int = null\n\t$field: UsersConnectionOrderbyEnum = DISPLAY_NAME\n\t$order: OrderEnum = ASC\n\t$roleIn: [UserRoleEnum] = []\n) {\n\tusers(\n\t\twhere: { orderby: { field: $field, order: $order }, roleIn: $roleIn }\n\t\tlast: $last\n\t\tfirst: $first\n\t\tbefore: $before\n\t\tafter: $after\n\t) { ${l} }\n}`,I=`query GQL_QUERY_GET_USERS_BY_SPECIFIC($include: [Int] = null) {\n\tusers(where: { include: $include }) { ${l} }\n}`,S=`\n\tquery GQL_QUERY_GET_CATEGORIES_BY_FILTER(\n\t\t$order: OrderEnum = ASC\n\t\t$orderby: TermObjectsConnectionOrderbyEnum = COUNT\n\t\t$after: String = null\n\t\t$before: String = null\n\t\t$first: Int = 10\n\t\t$last: Int = null\n\t) {\n\t\tcategories(\n\t\t\twhere: { order: $order, orderby: $orderby, hideEmpty: true  }\n\t\t\tfirst: $first\n\t\t\tbefore: $before\n\t\t\tafter: $after\n\t\t\tlast: $last\n\t\t) { ${o} }\n\t}\n`,T=`\n\tquery GQL_QUERY_GET_CATEGORIES_BY_SPECIFIC($termTaxonomId: [ID] = "") {\n\t\tcategories(where: { termTaxonomId: $termTaxonomId }) { ${o} }\n\t}\n`,C=`\n\tquery GQL_QUERY_GET_TAGS_BY_FILTER(\n\t\t$order: OrderEnum = ASC\n\t\t$orderby: TermObjectsConnectionOrderbyEnum = COUNT\n\t\t$after: String = null\n\t\t$before: String = null\n\t\t$first: Int = 10\n\t\t$last: Int = null\n\t) {\n\t\ttags(\n\t\t\twhere: { order: $order, orderby: $orderby, hideEmpty: true }\n\t\t\tfirst: $first\n\t\t\tbefore: $before\n\t\t\tafter: $after\n\t\t\tlast: $last\n\t\t) { ${o} }\n\t}\n`,b=`\n\tquery GQL_QUERY_GET_TAGS_BY_SPECIFIC($termTaxonomId: [ID] = "") {\n\t\ttags(where: { termTaxonomId: $termTaxonomId }) { ${o} }\n\t}\n`,G=`\n  query GQL_QUERY_SEARCH_POSTS($search: String = "") {\n    posts(where: {search: $search})\n\t{ ${a} }\n  }\n`,R=`\n  query GQL_QUERY_SEARCH_USER($search: String = "") {\n\tusers(where: {search: $search})\n\t{ ${l} }\n  }\n`,h=`\n  query GQL_QUERY_SEARCH_CATEGORIES($search: String = "") {\n\tcategories(where: {search: $search})\n\t{ ${o} }\n  }\n`,L=`\n  query GQL_QUERY_SEARCH_TAGS($search: String = "") {\n\ttags(where: {search: $search})\n\t{ ${o} }\n  }\n`;window.ncmazcoreJsData.pll_current_language&&window.ncmazcoreJsData.pll_themeoption_actived&&(m=g.PLL_GET__GQL_QUERY_GET_POSTS_BY_FILTER,f=g.PLL_GET__GQL_QUERY_GET_POSTS_BY_SPECIFIC,S=g.PLL_GET__GQL_QUERY_GET_CATEGORIES_BY_FILTER,T=g.PLL_GET__GQL_QUERY_GET_CATEGORIES_BY_SPECIFIC,C=g.PLL_GET__GQL_QUERY_GET_TAGS_BY_FILTER,b=g.PLL_GET__GQL_QUERY_GET_TAGS_BY_SPECIFIC,G=g.PLL_GET__GQL_QUERY_SEARCH_POSTS,h=g.PLL_GET__GQL_QUERY_SEARCH_CATEGORIES,L=g.PLL_GET__GQL_QUERY_SEARCH_TAGS)},5591:function(e,n,t){var r=t(9307),a=(t(9196),t(4392));n.Z=e=>{let{containerClassName:n="ring-1 ring-white dark:ring-neutral-900",sizeClass:t="h-6 w-6 text-sm",radius:l="rounded-md",imgUrl:o,userName:u}=e;const s=o||"",i=u||"John Doe";return(0,r.createElement)("div",{className:`wil-avatar relative flex-shrink-0 inline-flex items-center justify-center overflow-hidden text-neutral-100 uppercase font-semibold shadow-inner ${l} ${t} ${n}`,style:{backgroundColor:s?void 0:(e=>{const n=Math.floor(e.charCodeAt(0)%a.T3.length);return a.T3[n]})(i)}},s&&(0,r.createElement)("img",{className:"absolute inset-0 w-full h-full object-cover",src:s,alt:i}),(0,r.createElement)("span",{className:"wil-avatar__name"},i[0]))}},4625:function(e,n,t){var r=t(9307);t(9196),n.Z=e=>{let{className:n="",title:t,viewAllLabel:a,viewAllHref:l}=e;return(0,r.createElement)("div",{className:`nc-WidgetHeading1 flex items-center justify-between p-4 xl:p-5 border-b border-neutral-200 dark:border-neutral-700 ${n}`,"data-nc-id":"WidgetHeading1"},(0,r.createElement)("h2",{className:"text-lg text-neutral-900 dark:text-neutral-100 font-semibold flex-grow"},t))}},4653:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(9098),a=t(2471),l=t(4392);function o(e){var n;const{filterDataBy:t,numberPerPage:o,order:u,orderBy:s,userIds:i,roleIn:c}=e;let d="",_="",E={};"by_specific"===t?(E={include:i.map((e=>e.value))},d=l.S,_="GQL_QUERY_GET_USERS_BY_SPECIFIC"):(d=l.Rg,_="GQL_QUERY_GET_USERS_BY_FILTER",E={first:o,field:s,order:u,roleIn:c.map((e=>e.value))});const g=r.Ps`
		${d}
	`,{loading:m,error:f,data:$}=(0,a.a)(g,{variables:E});return{GQL_QUERY__string:d,GQL_QUERY__string_text:_,variables:E,loading:m,error:f,data:$,dataLists:(null==$||null===(n=$.users)||void 0===n?void 0:n.edges)||[]}}}}]);